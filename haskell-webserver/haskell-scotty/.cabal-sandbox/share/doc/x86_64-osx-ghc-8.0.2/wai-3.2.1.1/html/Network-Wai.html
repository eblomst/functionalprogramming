<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Wai</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Wai.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">wai-3.2.1.1: Web Application Interface.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Network.Wai</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types</a></li><li><a href="#g:2">Request</a><ul><li><a href="#g:3">Request accessors</a></li></ul></li><li><a href="#g:4">Response</a><ul><li><a href="#g:5">Response composers</a></li><li><a href="#g:6">Response accessors</a></li><li><a href="#g:7">Response modifiers</a></li></ul></li><li><a href="#g:8">Middleware composition</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines a generic web application interface. It is a common
protocol between web servers and web applications.</p><p>The overriding design principles here are performance and generality. To
address performance, this library is built on top of the conduit and
blaze-builder packages.  The advantages of conduits over lazy IO have been
debated elsewhere and so will not be addressed here.  However, helper functions
like <code><a href="Network-Wai.html#v:responseLBS">responseLBS</a></code> allow you to continue using lazy IO if you so desire.</p><p>Generality is achieved by removing many variables commonly found in similar
projects that are not universal to all servers. The goal is that the <code><a href="Network-Wai.html#t:Request">Request</a></code>
object contains only data which is meaningful in all circumstances.</p><p>Please remember when using this package that, while your application may
compile without a hitch against many different servers, there are other
considerations to be taken when moving to a new backend. For example, if you
transfer from a CGI application to a FastCGI one, you might suddenly find you
have a memory leak. Conversely, a FastCGI application would be well served to
preload all templates from disk when first starting; this would kill the
performance of a CGI application.</p><p>This package purposely provides very little functionality. You can find various
middlewares, backends and utilities on Hackage. Some of the most commonly used
include:</p><dl><dt>warp</dt><dd><a href="http://hackage.haskell.org/package/warp">http://hackage.haskell.org/package/warp</a></dd><dt>wai-extra</dt><dd><a href="http://hackage.haskell.org/package/wai-extra">http://hackage.haskell.org/package/wai-extra</a></dd><dt>wai-test</dt><dd><a href="http://hackage.haskell.org/package/wai-test">http://hackage.haskell.org/package/wai-test</a></dd></dl></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Application">Application</a> = <a href="Network-Wai.html#t:Request">Request</a> -&gt; (<a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="Network-Wai.html#t:ResponseReceived">ResponseReceived</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="Network-Wai.html#t:ResponseReceived">ResponseReceived</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Middleware">Middleware</a> = <a href="Network-Wai.html#t:Application">Application</a> -&gt; <a href="Network-Wai.html#t:Application">Application</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ResponseReceived">ResponseReceived</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Request">Request</a></li><li class="src short"><a href="#v:defaultRequest">defaultRequest</a> :: <a href="Network-Wai.html#t:Request">Request</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RequestBodyLength">RequestBodyLength</a><ul class="subs"><li>= <a href="#v:ChunkedBody">ChunkedBody</a></li><li>| <a href="#v:KnownLength">KnownLength</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Word.html#t:Word64">Word64</a></li></ul></li><li class="src short"><a href="#v:requestMethod">requestMethod</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Method.html#t:Method">Method</a></li><li class="src short"><a href="#v:httpVersion">httpVersion</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Version.html#t:HttpVersion">HttpVersion</a></li><li class="src short"><a href="#v:rawPathInfo">rawPathInfo</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:rawQueryString">rawQueryString</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaders">requestHeaders</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:RequestHeaders">RequestHeaders</a></li><li class="src short"><a href="#v:isSecure">isSecure</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:remoteHost">remoteHost</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/network-2.6.3.1/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a></li><li class="src short"><a href="#v:pathInfo">pathInfo</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; [<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>]</li><li class="src short"><a href="#v:queryString">queryString</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-URI.html#t:Query">Query</a></li><li class="src short"><a href="#v:requestBody">requestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:vault">vault</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/vault-0.3.0.7/html/Data-Vault-Lazy.html#t:Vault">Vault</a></li><li class="src short"><a href="#v:requestBodyLength">requestBodyLength</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a></li><li class="src short"><a href="#v:requestHeaderHost">requestHeaderHost</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaderRange">requestHeaderRange</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaderReferer">requestHeaderReferer</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaderUserAgent">requestHeaderUserAgent</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:strictRequestBody">strictRequestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:lazyRequestBody">lazyRequestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Response">Response</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:StreamingBody">StreamingBody</a> = (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:FilePart">FilePart</a> = <a href="#v:FilePart">FilePart</a> {<ul class="subs"><li><a href="#v:filePartOffset">filePartOffset</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:filePartByteCount">filePartByteCount</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:filePartFileSize">filePartFileSize</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li></ul>}</li><li class="src short"><a href="#v:responseFile">responseFile</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:responseBuilder">responseBuilder</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:responseLBS">responseLBS</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:responseStream">responseStream</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:responseRaw">responseRaw</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:responseStatus">responseStatus</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a></li><li class="src short"><a href="#v:responseHeaders">responseHeaders</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a></li><li class="src short"><a href="#v:responseToStream">responseToStream</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, (<a href="Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> a)</li><li class="src short"><a href="#v:mapResponseHeaders">mapResponseHeaders</a> :: (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:mapResponseStatus">mapResponseStatus</a> :: (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a>) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a></li><li class="src short"><a href="#v:ifRequest">ifRequest</a> :: (<a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a> -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a></li><li class="src short"><a href="#v:modifyResponse">modifyResponse</a> :: (<a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a>) -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a></li></ul></div><div id="interface"><h1 id="g:1">Types</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Application" class="def">Application</a> = <a href="Network-Wai.html#t:Request">Request</a> -&gt; (<a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="Network-Wai.html#t:ResponseReceived">ResponseReceived</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="Network-Wai.html#t:ResponseReceived">ResponseReceived</a> <a href="#t:Application" class="selflink">#</a></p><div class="doc"><p>The WAI application.</p><p>Note that, since WAI 3.0, this type is structured in continuation passing
 style to allow for proper safe resource handling. This was handled in the
 past via other means (e.g., <code>ResourceT</code>). As a demonstration:</p><pre>app :: Application
app req respond = bracket_
    (putStrLn &quot;Allocating scarce resource&quot;)
    (putStrLn &quot;Cleaning up&quot;)
    (respond $ responseLBS status200 [] &quot;Hello World&quot;)
</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Middleware" class="def">Middleware</a> = <a href="Network-Wai.html#t:Application">Application</a> -&gt; <a href="Network-Wai.html#t:Application">Application</a> <a href="#t:Middleware" class="selflink">#</a></p><div class="doc"><p>Middleware is a component that sits between the server and application. It
 can do such tasks as GZIP encoding or response caching. What follows is the
 general definition of middleware, though a middleware author should feel
 free to modify this.</p><p>As an example of an alternate type for middleware, suppose you write a
 function to load up session information. The session information is simply a
 string map \[(String, String)\]. A logical type signature for this middleware
 might be:</p><pre> loadSession :: ([(String, String)] -&gt; Application) -&gt; Application</pre><p>Here, instead of taking a standard <code><a href="Network-Wai.html#t:Application">Application</a></code> as its first argument, the
 middleware takes a function which consumes the session information as well.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ResponseReceived" class="def">ResponseReceived</a> <a href="#t:ResponseReceived" class="selflink">#</a></p><div class="doc"><p>A special datatype to indicate that the WAI handler has received the
 response. This is to avoid the need for Rank2Types in the definition of
 Application.</p><p>It is <em>highly</em> advised that only WAI handlers import and use the data
 constructor for this data type.</p><p>Since 3.0.0</p></div></div><h1 id="g:2">Request</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Request" class="def">Request</a> <a href="#t:Request" class="selflink">#</a></p><div class="doc"><p>Information on the request sent by the client. This abstracts away the
 details of the underlying implementation.</p></div><div class="subs instances"><p id="control.i:Request" class="caption collapser" onclick="toggleSection('i:Request')">Instances</p><div id="section.i:Request" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Request:Show:1" class="instance expander" onclick="toggleSection('i:id:Request:Show:1')"></span> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="Network-Wai.html#t:Request">Request</a></span> <a href="#t:Request" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Request:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Wai.html#t:Request">Request</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:defaultRequest" class="def">defaultRequest</a> :: <a href="Network-Wai.html#t:Request">Request</a> <a href="#v:defaultRequest" class="selflink">#</a></p><div class="doc"><p>A default, blank request.</p><p>Since 2.0.0</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RequestBodyLength" class="def">RequestBodyLength</a> <a href="#t:RequestBodyLength" class="selflink">#</a></p><div class="doc"><p>The size of the request body. In the case of chunked bodies, the size will
 not be known.</p><p>Since 1.4.0</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChunkedBody" class="def">ChunkedBody</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:KnownLength" class="def">KnownLength</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Word.html#t:Word64">Word64</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RequestBodyLength" class="caption collapser" onclick="toggleSection('i:RequestBodyLength')">Instances</p><div id="section.i:RequestBodyLength" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RequestBodyLength:Show:1" class="instance expander" onclick="toggleSection('i:id:RequestBodyLength:Show:1')"></span> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a></span> <a href="#t:RequestBodyLength" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RequestBodyLength:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h2 id="g:3">Request accessors</h2><div class="top"><p class="src"><a id="v:requestMethod" class="def">requestMethod</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Method.html#t:Method">Method</a> <a href="#v:requestMethod" class="selflink">#</a></p><div class="doc"><p>Request method such as GET.</p></div></div><div class="top"><p class="src"><a id="v:httpVersion" class="def">httpVersion</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Version.html#t:HttpVersion">HttpVersion</a> <a href="#v:httpVersion" class="selflink">#</a></p><div class="doc"><p>HTTP version such as 1.1.</p></div></div><div class="top"><p class="src"><a id="v:rawPathInfo" class="def">rawPathInfo</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:rawPathInfo" class="selflink">#</a></p><div class="doc"><p>Extra path information sent by the client. The meaning varies slightly
 depending on backend; in a standalone server setting, this is most likely
 all information after the domain name. In a CGI application, this would be
 the information following the path to the CGI executable itself.</p><p>Middlewares and routing tools should not modify this raw value, as it may
 be used for such things as creating redirect destinations by applications.
 Instead, if you are writing a middleware or routing framework, modify the
 <code>pathInfo</code> instead. This is the approach taken by systems like Yesod
 subsites.</p><p><em>Note</em>: At the time of writing this documentation, there is at least one
 system (<code>Network.Wai.UrlMap</code> from <code>wai-extra</code>) that does not follow the
 above recommendation. Therefore, it is recommended that you test the
 behavior of your application when using <code>rawPathInfo</code> and any form of
 library that might modify the <code>Request</code>.</p></div></div><div class="top"><p class="src"><a id="v:rawQueryString" class="def">rawQueryString</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:rawQueryString" class="selflink">#</a></p><div class="doc"><p>If no query string was specified, this should be empty. This value
 <em>will</em> include the leading question mark.
 Do not modify this raw value - modify queryString instead.</p></div></div><div class="top"><p class="src"><a id="v:requestHeaders" class="def">requestHeaders</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:RequestHeaders">RequestHeaders</a> <a href="#v:requestHeaders" class="selflink">#</a></p><div class="doc"><p>A list of headers (a pair of key and value) in an HTTP request.</p></div></div><div class="top"><p class="src"><a id="v:isSecure" class="def">isSecure</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:isSecure" class="selflink">#</a></p><div class="doc"><p>Was this request made over an SSL connection?</p><p>Note that this value will <em>not</em> tell you if the client originally made
 this request over SSL, but rather whether the current connection is SSL.
 The distinction lies with reverse proxies. In many cases, the client will
 connect to a load balancer over SSL, but connect to the WAI handler
 without SSL. In such a case, <code><a href="Network-Wai.html#v:isSecure">isSecure</a></code> will be <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#v:False">False</a></code>, but from a user
 perspective, there is a secure connection.</p></div></div><div class="top"><p class="src"><a id="v:remoteHost" class="def">remoteHost</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/network-2.6.3.1/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a> <a href="#v:remoteHost" class="selflink">#</a></p><div class="doc"><p>The client's host information.</p></div></div><div class="top"><p class="src"><a id="v:pathInfo" class="def">pathInfo</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; [<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a>] <a href="#v:pathInfo" class="selflink">#</a></p><div class="doc"><p>Path info in individual pieces - the URL without a hostname/port and
 without a query string, split on forward slashes.</p></div></div><div class="top"><p class="src"><a id="v:queryString" class="def">queryString</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-URI.html#t:Query">Query</a> <a href="#v:queryString" class="selflink">#</a></p><div class="doc"><p>Parsed query string information.</p></div></div><div class="top"><p class="src"><a id="v:requestBody" class="def">requestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:requestBody" class="selflink">#</a></p><div class="doc"><p>Get the next chunk of the body. Returns <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#v:empty">empty</a></code> when the
 body is fully consumed.</p></div></div><div class="top"><p class="src"><a id="v:vault" class="def">vault</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/vault-0.3.0.7/html/Data-Vault-Lazy.html#t:Vault">Vault</a> <a href="#v:vault" class="selflink">#</a></p><div class="doc"><p>A location for arbitrary data to be shared by applications and middleware.</p></div></div><div class="top"><p class="src"><a id="v:requestBodyLength" class="def">requestBodyLength</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a> <a href="#v:requestBodyLength" class="selflink">#</a></p><div class="doc"><p>The size of the request body. In the case of a chunked request body,
 this may be unknown.</p><p>Since 1.4.0</p></div></div><div class="top"><p class="src"><a id="v:requestHeaderHost" class="def">requestHeaderHost</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:requestHeaderHost" class="selflink">#</a></p><div class="doc"><p>The value of the Host header in a HTTP request.</p><p>Since 2.0.0</p></div></div><div class="top"><p class="src"><a id="v:requestHeaderRange" class="def">requestHeaderRange</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:requestHeaderRange" class="selflink">#</a></p><div class="doc"><p>The value of the Range header in a HTTP request.</p><p>Since 2.0.0</p></div></div><div class="top"><p class="src"><a id="v:requestHeaderReferer" class="def">requestHeaderReferer</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:requestHeaderReferer" class="selflink">#</a></p><div class="doc"><p>The value of the Referer header in a HTTP request.</p><p>Since 3.2.0</p></div></div><div class="top"><p class="src"><a id="v:requestHeaderUserAgent" class="def">requestHeaderUserAgent</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:requestHeaderUserAgent" class="selflink">#</a></p><div class="doc"><p>The value of the User-Agent header in a HTTP request.</p><p>Since 3.2.0</p></div></div><div class="top"><p class="src"><a id="v:strictRequestBody" class="def">strictRequestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="#v:strictRequestBody" class="selflink">#</a></p><div class="doc"><p>Get the request body as a lazy ByteString. However, do <em>not</em> use any lazy
 I/O, instead reading the entire body into memory strictly.</p><p>Since 3.0.1</p></div></div><div class="top"><p class="src"><a id="v:lazyRequestBody" class="def">lazyRequestBody</a> :: <a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="#v:lazyRequestBody" class="selflink">#</a></p><div class="doc"><p>Get the request body as a lazy ByteString. This uses lazy I/O under the
 surface, and therefore all typical warnings regarding lazy I/O apply.</p><p>Since 1.4.1</p></div></div><h1 id="g:4">Response</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Response" class="def">Response</a> <a href="#t:Response" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StreamingBody" class="def">StreamingBody</a> = (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="#t:StreamingBody" class="selflink">#</a></p><div class="doc"><p>Represents a streaming HTTP response body. It's a function of two
 parameters; the first parameter provides a means of sending another chunk of
 data, and the second parameter provides a means of flushing the data to the
 client.</p><p>Since 3.0.0</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FilePart" class="def">FilePart</a> <a href="#t:FilePart" class="selflink">#</a></p><div class="doc"><p>Information on which part to be sent.
   Sophisticated application handles Range (and If-Range) then
   create <code><a href="Network-Wai.html#t:FilePart">FilePart</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FilePart" class="def">FilePart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:filePartOffset" class="def">filePartOffset</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:filePartByteCount" class="def">filePartByteCount</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:filePartFileSize" class="def">filePartFileSize</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Integer">Integer</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:FilePart" class="caption collapser" onclick="toggleSection('i:FilePart')">Instances</p><div id="section.i:FilePart" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:FilePart:Show:1" class="instance expander" onclick="toggleSection('i:id:FilePart:Show:1')"></span> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="Network-Wai.html#t:FilePart">FilePart</a></span> <a href="#t:FilePart" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:FilePart:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Wai.html#t:FilePart">FilePart</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h2 id="g:5">Response composers</h2><div class="top"><p class="src"><a id="v:responseFile" class="def">responseFile</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:responseFile" class="selflink">#</a></p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from a file.</p></div></div><div class="top"><p class="src"><a id="v:responseBuilder" class="def">responseBuilder</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:responseBuilder" class="selflink">#</a></p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a></code>.</p><p>Some questions and answers about the usage of <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/binary-0.8.3.0/Data-Binary-Builder.html#t:Builder">Builder</a></code> here:</p><p>Q1. Shouldn't it be at the user's discretion to use Builders internally and
 then create a stream of ByteStrings?</p><p>A1. That would be less efficient, as we wouldn't get cheap concatenation
 with the response headers.</p><p>Q2. Isn't it really inefficient to convert from ByteString to Builder, and
 then right back to ByteString?</p><p>A2. No. If the ByteStrings are small, then they will be copied into a larger
 buffer, which should be a performance gain overall (less system calls). If
 they are already large, then blaze-builder uses an InsertByteString
 instruction to avoid copying.</p><p>Q3. Doesn't this prevent us from creating comet-style servers, since data
 will be cached?</p><p>A3. You can force blaze-builder to output a ByteString before it is an
 optimal size by sending a flush command.</p></div></div><div class="top"><p class="src"><a id="v:responseLBS" class="def">responseLBS</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:responseLBS" class="selflink">#</a></p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code>. This is a wrapper for
   <code><a href="Network-Wai.html#v:responseBuilder">responseBuilder</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:responseStream" class="def">responseStream</a> :: <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:responseStream" class="selflink">#</a></p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from a stream of values.</p><p>In order to allocate resources in an exception-safe manner, you can use the
 <code>bracket</code> pattern outside of the call to <code>responseStream</code>. As a trivial
 example:</p><pre>app :: Application
app req respond = bracket_
    (putStrLn &quot;Allocating scarce resource&quot;)
    (putStrLn &quot;Cleaning up&quot;)
    $ respond $ responseStream status200 [] $ \write flush -&gt; do
        write $ fromByteString &quot;Hello\n&quot;
        flush
        write $ fromByteString &quot;World\n&quot;
</pre><p>Note that in some cases you can use <code>bracket</code> from inside <code>responseStream</code>
 as well. However, placing the call on the outside allows your status value
 and response headers to depend on the scarce resource.</p><p>Since 3.0.0</p></div></div><div class="top"><p class="src"><a id="v:responseRaw" class="def">responseRaw</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:responseRaw" class="selflink">#</a></p><div class="doc"><p>Create a response for a raw application. This is useful for &quot;upgrade&quot;
 situations such as WebSockets, where an application requests for the server
 to grant it raw network access.</p><p>This function requires a backup response to be provided, for the case where
 the handler in question does not support such upgrading (e.g., CGI apps).</p><p>In the event that you read from the request body before returning a
 <code>responseRaw</code>, behavior is undefined.</p><p>Since 2.1.0</p></div></div><h2 id="g:6">Response accessors</h2><div class="top"><p class="src"><a id="v:responseStatus" class="def">responseStatus</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> <a href="#v:responseStatus" class="selflink">#</a></p><div class="doc"><p>Accessing <code><a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a></code> in <code><a href="Network-Wai.html#t:Response">Response</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:responseHeaders" class="def">responseHeaders</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> <a href="#v:responseHeaders" class="selflink">#</a></p><div class="doc"><p>Accessing <code><a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a></code> in <code><a href="Network-Wai.html#t:Response">Response</a></code>.</p></div></div><h2 id="g:7">Response modifiers</h2><div class="top"><p class="src"><a id="v:responseToStream" class="def">responseToStream</a> :: <a href="Network-Wai.html#t:Response">Response</a> -&gt; (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, (<a href="Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> a) <a href="#v:responseToStream" class="selflink">#</a></p><div class="doc"><p>Converting the body information in <code><a href="Network-Wai.html#t:Response">Response</a></code> to a <code><a href="Network-Wai.html#t:StreamingBody">StreamingBody</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mapResponseHeaders" class="def">mapResponseHeaders</a> :: (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:mapResponseHeaders" class="selflink">#</a></p><div class="doc"><p>Apply the provided function to the response header list of the Response.</p></div></div><div class="top"><p class="src"><a id="v:mapResponseStatus" class="def">mapResponseStatus</a> :: (<a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///Users/emmablomsterberg/NetBeansProjects/functionalprogramming/haskell-webserver/haskell-scotty/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/http-types-0.9.1/html/Network-HTTP-Types-Status.html#t:Status">Status</a>) -&gt; <a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a> <a href="#v:mapResponseStatus" class="selflink">#</a></p><div class="doc"><p>Apply the provided function to the response status of the Response.</p></div></div><h1 id="g:8">Middleware composition</h1><div class="top"><p class="src"><a id="v:ifRequest" class="def">ifRequest</a> :: (<a href="Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a> -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a> <a href="#v:ifRequest" class="selflink">#</a></p><div class="doc"><p>conditionally apply a <code><a href="Network-Wai.html#t:Middleware">Middleware</a></code></p></div></div><div class="top"><p class="src"><a id="v:modifyResponse" class="def">modifyResponse</a> :: (<a href="Network-Wai.html#t:Response">Response</a> -&gt; <a href="Network-Wai.html#t:Response">Response</a>) -&gt; <a href="Network-Wai.html#t:Middleware">Middleware</a> <a href="#v:modifyResponse" class="selflink">#</a></p><div class="doc"><p>apply a function that modifies a response as a <code><a href="Network-Wai.html#t:Middleware">Middleware</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>